{% extends "base.html" %}

{% block title %}
	Home page
{% endblock title %}

{% block content %}
	<div class="d-flex justify-content-between align-items-center">
		<h1>TODO list</h1>
		<a href="{% url 'todo:task-create' %}" class="btn btn-primary mr-5">Create</a>
	</div>
	<hr>

  <div class="container">
		{% for task in task_list %}
			<div>
				{% if task.is_completed %}
					<div class="d-flex justify-content-between align-items-center">
							<h3>{{ task.name }} <span class="text-success">Done</span> </h3>
							<a
								class="text-right btn btn-danger"
								href="{% url 'todo:task-list' %}?is_completed=False&task={{ task.id }}"
							>Undone</a>
					</div>{% else %}
					<div class="d-flex justify-content-between align-items-center">
							<h3>{{ task.name }} <span class="text-danger">Undone</span> </h3>
							<a
								href="{% url 'todo:task-list' %}?is_completed=True&task={{ task.id }}"
								class="btn btn-success"
							>
								Complete</a>
					</div>
				{% endif %}
				<h5>{{ task.description }}</h5>
				<p>Deadline: {{ task.deadline }}</p>
				<p>Created at: {{ task.created_at }}</p>
				<p class="text-muted">
					Tags:
					{% for tag in task.tags.all %}
						{{ tag }}
					{% endfor %}
				</p>
				<a href="{% url 'todo:task-update' pk=task.id %}">Update</a>
				<a href="{% url 'todo:task-delete' pk=task.id %}">Delete</a>

			</div>
			<hr>
		{% endfor %}

	</div>

{% endblock content %}
